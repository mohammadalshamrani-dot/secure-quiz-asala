<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>التواصل مع الإدارة</title>
  <link rel="stylesheet" href="./style.css">
  <script defer src="./app.js"></script>
</head>
<body>
  <header class="container">
    <div class="header">
      <img src="./assets/logo.svg" alt="شعار الأصالة">
      <nav>
        <a class="btn secondary" href="./help.html">التعليمات</a>
        <a class="btn" href="./admin.html">لوحة التحكم</a>
      </nav>
    </div>
  </header>
  <main class="container">
    <div class="card">
      <form id="f">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
          <div><label class="label">الاسم</label><input class="input" name="name" required></div>
          <div><label class="label">البريد</label><input class="input" type="email" name="email" required></div>
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px">
          <div><label class="label">الفئة</label>
            <select class="input" name="category">
              <option>اقتراح</option><option>شكوى</option><option>استفسار</option>
            </select>
          </div>
          <div><label class="label">الصفة</label>
            <select class="input" name="role">
              <option>طالب/ـة</option><option>عضو هيئة تدريس</option><option>إداري</option>
            </select>
          </div>
        </div>
        <div style="margin-top:12px">
          <label class="label">الرسالة</label>
          <textarea class="input" name="message" rows="6" minlength="5" required></textarea>
        </div>
        <div style="margin-top:14px;display:flex;gap:10px">
          <button class="btn" type="submit">إرسال</button>
          <button class="btn secondary" type="reset">مسح</button>
        </div>
        <p id="s" class="small" style="margin-top:8px"></p>
      </form>
    </div>
  </main>
  <footer class="footer">&copy; 2025 منصّة الاختبارات – كلية الحقوق (الأصالة)</footer>
  <script>
    const form = document.getElementById('f');
    const s = document.getElementById('s');
    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const fd = new FormData(form);
      const id = submitContact({
        name: fd.get('name'),
        email: fd.get('email'),
        category: fd.get('category'),
        role: fd.get('role'),
        message: fd.get('message')
      });
      s.textContent = '✓ تم الإرسال. رقم المتابعة: ' + id.slice(0,8);
      form.reset();
    });
  </script>
</body>
</html>
